{"version":3,"sources":["components/common/FormsControl/FormsControl.js","utils/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/constant/Constant.js","components/Profile/Post.js","components/Profile/MyPosts.js","components/Profile/MyPostsContainer.js","components/Profile/ProfileStatus.js","components/Profile/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["FormControl","meta","touched","error","children","hasError","className","Textarea","props","input","Input","CreateField","placeholder","name","validators","component","type","text","validate","required","value","maxLengthCreator","maxLength","length","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","avaImage","Post","message","id","alt","src","MyPosts","memo","postData","addPost","AddPostFormRedux","onSubmit","values","newPostText","map","item","reduxForm","form","handleSubmit","Field","MyPostsContainer","connect","state","newText","profilePage","ProfileStatus","status","updateUserStatus","useState","editMode","setEditMode","localStatus","setStatus","useEffect","toggleEditMode","e","onChange","currentTarget","onBlur","autoFocus","onDoubleClick","ProfileInfo","profile","photos","large","Preloader","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","userProfile","getUserStatus","React","Component","compose","auth","isAuth","withRouter"],"mappings":"6PAMaA,EAAc,SAAC,GAA4C,IAAD,IAAzCC,KAAQC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,MAASC,EAAe,EAAfA,SAEhDC,EAAWH,GAAWC,EAE5B,OACE,sBAAKG,UAAS,uBAAkBD,GAAY,SAA5C,UACE,8BACGD,IAGH,8BAEIC,GACA,+BACGF,UAQAI,EAAW,SAACC,GAEvB,OAAO,cAACR,EAAD,2BAAiBQ,GAAjB,aACL,oDAAcA,EAAMC,OAAWD,QAItBE,EAAQ,SAACF,GAEpB,OAAO,cAACR,EAAD,2BAAiBQ,GAAjB,aACL,iDAAWA,EAAMC,OAAWD,QAInBG,EAAc,SAACC,EAAaC,EAAMC,EAAYC,GAAqC,IAA1BC,EAAyB,uDAAlB,GAAIC,EAAc,uDAAP,GACtF,OACE,gCACE,cAAC,IAAD,CACEJ,KAAMA,EACNE,UAAWA,EACXH,YAAaA,EACbM,SAAUJ,EACVE,KAAMA,IAEPC,O,uDCpDP,oEAAO,IAAME,EAAW,SAACC,GACvB,IAAIA,EAEJ,MAAO,sBAGIC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC9C,IAAS,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOG,QAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,+ECHlB,SAASE,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGjB,QAETM,GAAKM,EAAKT,SAAWG,GAH8CO,GAAK,IAK9E,MAAOS,GACPR,GAAK,EACLC,EAAKO,EACL,QACA,IACOT,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAiB,EAAA,GAA2BlB,EAAKC,IGLjF,WACb,MAAM,IAAIkB,UAAU,6IHIgF,K,kKILzFC,EAAW,qI,OCcTC,EAVF,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,GAEvB,OACE,sBAAK1C,UAAU,OAAf,UACE,qBAAK2C,IAAI,SAASC,IAAKL,IACtBE,IAFwBC,I,kBCCzB1B,EAAYD,YAAiB,IAE7B8B,EAAUC,gBAAK,YAA4B,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAKhC,OACE,sBAAKhD,UAAU,eAAf,UACE,yCAEA,cAACiD,EAAD,CAAkBC,SARJ,SAACC,GACjBH,EAAQG,EAAOC,gBAUXL,GACAA,EAASM,KAAI,SAACC,EAAMlC,GAAP,OACX,cAAC,EAAD,CAEEqB,QAASa,EAAKb,QACdC,GAAItB,GAFCA,YA4BX6B,EAAmBM,YAAU,CAAEC,KAAM,yBAAlBD,EAlBF,SAACrD,GACtB,OACE,uBAAMgD,SAAUhD,EAAMuD,aAAtB,UACE,cAACC,EAAA,EAAD,CACEnD,KAAK,cACLE,UAAWR,IACXW,SAAU,CAACC,IAAUG,KAKvB,oDAUS6B,I,QCtCAc,EAJUC,aAPD,SAACC,GACvB,MAAO,CACLC,QAASD,EAAME,YAAYD,QAC3Bf,SAAUc,EAAME,YAAYhB,YAIkB,CAChDC,aADuBY,CAEtBf,G,iBCyBYmB,EAvCO,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,iBAC/B,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAiCF,mBAASF,GAA1C,mBAAOK,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACRD,EAAUD,KACT,CAACA,IAEJ,IAAMG,EAAiB,SAACC,GACtBL,GAAaD,GACbF,EAAiBI,IAOnB,OACE,8BAEKF,EAMC,8BACE,uBACEO,SAfW,SAACD,GACtBH,EAAUG,EAAEE,cAAc9D,QAehB+D,OAAQJ,EACR3D,MAAOwD,EACPQ,WAAW,MAVf,8BACE,sBAAMC,cAAeN,EAArB,SACGH,GAAe,mBCAfU,EAnBK,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,QAAShB,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,iBAEtC,OAAKe,EAKH,8BACE,sBAAKjF,UAAU,iBAAf,UACE,qBAAK2C,IAAI,SAASC,IAAKqC,EAAQC,OAAOC,OAAS5C,IAC/C,cAAC,EAAD,CACE0B,OAAQA,EACRC,iBAAkBA,SATjB,cAACkB,EAAA,EAAD,KCWIC,G,OAbC,SAACnF,GACf,OACE,sBAAKF,UAAU,UAAf,UACE,cAAC,EAAD,CACEiE,OAAQ/D,EAAM+D,OACdgB,QAAS/E,EAAM+E,QACff,iBAAkBhE,EAAMgE,mBAE1B,cAAC,EAAD,SCJAoB,E,uKAEJ,WACE,IAAIC,EAASC,KAAKtF,MAAMuF,MAAMC,OAAOH,OAEhCA,IACHA,EAASC,KAAKtF,MAAMyF,mBAElBH,KAAKtF,MAAM0F,QAAQzD,KAAK,UAI5BqD,KAAKtF,MAAM2F,YAAYN,GACvBC,KAAKtF,MAAM4F,cAAcP,K,oBAG3B,WAEE,OACE,cAAC,EAAD,2BACMC,KAAKtF,OADX,IAEE+E,QAASO,KAAKtF,MAAM+E,QACpBhB,OAAQuB,KAAKtF,MAAM+D,OACnBC,iBAAkBsB,KAAKtF,MAAMgE,wB,GAvBN6B,IAAMC,WAoCtBC,sBACbrC,aARoB,SAACC,GAAD,MAAY,CAChCoB,QAASpB,EAAME,YAAYkB,QAC3BhB,OAAQJ,EAAME,YAAYE,OAC1B0B,iBAAkB9B,EAAMqC,KAAKxD,GAC7ByD,OAAQtC,EAAMqC,KAAKC,UAIM,CACvBN,gBACAC,kBACA5B,uBAEFkC,IANaH,CAQbX","file":"static/js/4.f34376ec.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport { Field } from 'redux-form';\r\n\r\nimport './FormsControl.css';\r\n\r\nexport const FormControl = ({ meta: { touched, error }, children }) => {\r\n\r\n  const hasError = touched && error\r\n\r\n  return (\r\n    <div className={`form-control ${hasError && 'error'}`} >\r\n      <div>\r\n        {children}\r\n      </div>\r\n\r\n      <div>\r\n        {\r\n          hasError &&\r\n          <span>\r\n            {error}\r\n          </span>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n  return <FormControl {...props}>\r\n    <textarea {...props.input} {...props} />\r\n  </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n  return <FormControl {...props}>\r\n    <input {...props.input} {...props} />\r\n  </FormControl>\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validators, component, type = \"\", text = '') => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        name={name}\r\n        component={component}\r\n        placeholder={placeholder}\r\n        validate={validators}\r\n        type={type}\r\n      />\r\n      {text}\r\n    </div>\r\n  )\r\n}","export const required = (value) => {\r\n  if (value) return undefined\r\n\r\n  return 'Field is requered '\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value?.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\r\n  return undefined\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const avaImage = 'https://coinnewstelegraph.com/wp-content/uploads/2018/04/the-peer-to-peer-cryptocurrency-exchange-hodl-hodl-doesnt-require-kyc.jpg'\r\n","import React from 'react';\r\n\r\nimport { avaImage } from '../common/constant/Constant'\r\n\r\nconst Post = ({ message, id }) => {\r\n\r\n  return (\r\n    <div className=\"post\" key={id}>\r\n      <img alt=\"Avatar\" src={avaImage} />\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React, { memo } from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nimport Post from './Post';\r\nimport { Textarea } from '../common/FormsControl/FormsControl';\r\n\r\nimport { required, maxLengthCreator } from '../../utils/validators';\r\n\r\nconst maxLength = maxLengthCreator(10)\r\n\r\nconst MyPosts = memo(({ postData, addPost }) => {\r\n  const onAddPost = (values) => {\r\n    addPost(values.newPostText)\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-post\">\r\n      <h1>My post</h1>\r\n\r\n      <AddPostFormRedux onSubmit={onAddPost} />\r\n\r\n      {\r\n        postData &&\r\n        postData.map((item, i) => (\r\n          <Post\r\n            key={i}\r\n            message={item.message}\r\n            id={i}\r\n          />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n})\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        name=\"newPostText\"\r\n        component={Textarea}\r\n        validate={[required, maxLength]}\r\n      >\r\n\r\n      </Field>\r\n\r\n      <button>\r\n        Add post\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({ form: \"profileAddNewPostForm\" })(AddNewPostForm)\r\n\r\n\r\nexport default MyPosts;","// import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MyPosts from './MyPosts';\r\n\r\nimport { addPost } from '../../redux/profile-reducer'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    newText: state.profilePage.newText,\r\n    postData: state.profilePage.postData\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n  addPost\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatus = ({ status, updateUserStatus }) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [localStatus, setStatus] = useState(status)\r\n\r\n  useEffect(() => {\r\n    setStatus(localStatus)\r\n  }, [localStatus])\r\n\r\n  const toggleEditMode = (e) => {\r\n    setEditMode(!editMode)\r\n    updateUserStatus(localStatus)\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        !editMode ?\r\n          <div>\r\n            <span onDoubleClick={toggleEditMode} >\r\n              {localStatus || \"No status\"}\r\n            </span>\r\n          </div> :\r\n          <div>\r\n            <input\r\n              onChange={onStatusChange}\r\n              onBlur={toggleEditMode}\r\n              value={localStatus}\r\n              autoFocus={true}\r\n            />\r\n          </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\n\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport ProfileStatus from './ProfileStatus'\r\nimport { avaImage } from '../common/constant/Constant'\r\n\r\nconst ProfileInfo = ({ profile, status, updateUserStatus }) => {\r\n\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"content-avatar\">\r\n        <img alt=\"Avatar\" src={profile.photos.large || avaImage} />\r\n        <ProfileStatus\r\n          status={status}\r\n          updateUserStatus={updateUserStatus}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\n\r\nimport MyPostsContainer from './MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo';\r\n\r\nimport './Profile.css';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className=\"content\">\r\n      <ProfileInfo\r\n        status={props.status}\r\n        profile={props.profile}\r\n        updateUserStatus={props.updateUserStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nimport Profile from './Profile';\r\n\r\nimport { userProfile, getUserStatus, updateUserStatus } from '../../redux/profile-reducer';\r\n// import { WithAuthRedirect } from '../../HOC/WithAuthRedirect';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId\r\n\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n      if (!userId) {\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n\r\n    this.props.userProfile(userId)\r\n    this.props.getUserStatus(userId)\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateUserStatus={this.props.updateUserStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    userProfile,\r\n    getUserStatus,\r\n    updateUserStatus,\r\n  }),\r\n  withRouter,\r\n  // WithAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}