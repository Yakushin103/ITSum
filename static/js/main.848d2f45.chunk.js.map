{"version":3,"sources":["api/api.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Navbar/Navbar.js","redux/app-reducer.js","HOC/WithSuspenseLoading.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","image/Spinner-1s-200px.svg","components/common/Preloader/Preloader.js","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/reducers-helper.js","redux/users-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","res","data","follow","id","post","unFollow","delete","authAPI","isAuth","login","email","password","rememberMe","logout","profileAPI","getUserProfile","userId","getStatus","updateStatus","status","put","Header","className","alt","src","onClick","to","HeaderContainer","this","props","React","Component","connect","state","auth","Navbar","name","INITIALIZED_SUCCSES","initialState","initialized","initializeApp","dispatch","a","setUser","type","appReducer","action","WithSuspenseLoading","fallback","Preloader","DialogsContainer","lazy","ProfileContainer","UsersContainer","Login","App","useDispatch","useSelector","app","useEffect","path","render","sidebarReducer","reducers","combineReducers","postPage","dialogsReducer","profilePage","profileReducer","sidebar","usersPage","userReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","process","document","getElementById","SET_USER_DATA","isFetching","setUserData","payload","resultCode","message","messages","length","stopSubmit","_error","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","postData","newText","profile","addPost","newPostText","setUserStatus","userProfile","getUserStatus","updateUserStatus","filter","m","postId","SEND_MESSAGE","dialogsData","messageData","sendMessageActionCreator","newMessageBody","updateObjectInArrey","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalCount","followingInProgress","followSucces","unFollowSucces","setCurrentPage","toggleIsFecthing","toggleFollowingProgress","requestUsers","page","followUnFollowFlow","apiMethod","actionCreator","usersReducer","followed"],"mappings":"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","file":"static/js/main.848d2f45.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"9b3c6087-f9b8-4f04-8de9-5abde1522073\"\r\n  }\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance.get(`users?page=${currentPage}&count${pageSize}`).then(res => res.data)\r\n  },\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`).then(res => res.data)\r\n  },\r\n  unFollow(id) {\r\n    return instance.delete(`follow/${id}`).then(res => res.data)\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  isAuth() {\r\n    return instance.get(`auth/me`).then(res => res.data)\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe }).then(res => res.data)\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`).then(res => res.data)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status })\r\n  }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Header.css';\r\n\r\nconst Header = ({\r\n  isAuth,\r\n  login,\r\n  logout\r\n}) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <img alt=\"Logo\" src=\"https://avatars.mds.yandex.net/get-pdb/2212586/6dda1a62-c391-4e13-b314-93ac53dafa89/s1200\" />\r\n\r\n      <div className=\"login-block\">\r\n        {\r\n          isAuth ?\r\n            <div className=\"header-login\">\r\n              <span>\r\n                {login}\r\n              </span>\r\n\r\n              <button onClick={logout}>\r\n                Logout\r\n              </button>\r\n            </div>\r\n            :\r\n            <NavLink to={'/login'}>\r\n              Login\r\n            </NavLink>\r\n        }\r\n      </div>\r\n    </header >\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Header from './Header';\r\n\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Header\r\n        {...this.props}\r\n        logout={this.props.logout}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  logout\r\n})(HeaderContainer);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport './Navbar.css';\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className=\"nav\">\r\n            <div className=\"item\">\r\n                <NavLink to=\"/profile\" name=\"Profile\">Profile</NavLink>\r\n            </div>\r\n            <div className=\"item\">\r\n                <NavLink to=\"/dialogs\" name=\"Message\">Messege</NavLink>\r\n            </div>\r\n            <div className=\"item\">\r\n                <NavLink to=\"/users\" name=\"Message\">Users</NavLink>\r\n            </div>\r\n            <div className=\"item\">\r\n                <a name=\"Music\">Music</a>\r\n            </div>\r\n            <div className=\"item\">\r\n                <a name=\"Settings\">Settings</a>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import { setUser } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCSES = 'INITIALIZED_SUCCSES'\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCSES:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccses = () => ({\r\n  type: INITIALIZED_SUCCSES\r\n})\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n  await dispatch(setUser())\r\n\r\n  dispatch(initializedSuccses())\r\n}\r\n\r\nexport default appReducer;","import React, { Suspense } from 'react';\r\n\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nconst WithSuspenseLoading = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WithSuspenseLoading;","import React, { useEffect, lazy, Suspense } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\n\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport WithSuspenseLoading from './HOC/WithSuspenseLoading'\r\n\r\nimport './App.css';\r\n\r\nconst DialogsContainer = lazy(() =>\r\n  import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = lazy(() =>\r\n  import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = lazy(() =>\r\n  import('./components/Users/UsersContainer'));\r\nconst Login = lazy(() =>\r\n  import('./components/Login/Login'));\r\n\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const initialized = useSelector((state) => state.app.initialized)\r\n\r\n  useEffect(() => {\r\n    dispatch(initializeApp())\r\n  }, [dispatch, initializeApp])\r\n\r\n  if (!initialized) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-wrapper\">\r\n      <HeaderContainer />\r\n\r\n      <Navbar />\r\n\r\n      <div className=\"app-wrapper-content\">\r\n        <Route path=\"/dialogs\"\r\n          render={WithSuspenseLoading(DialogsContainer)} />\r\n\r\n        <Route path=\"/profile/:userId?\"\r\n          render={WithSuspenseLoading(ProfileContainer)} />\r\n\r\n        <Route path=\"/users\"\r\n          render={WithSuspenseLoading(UsersContainer)} />\r\n\r\n        <Route path=\"/login\"\r\n          render={WithSuspenseLoading(Login)} />\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) =>{\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport userReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    postPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: userReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux'\r\n\r\nimport App from './App';\r\n\r\nimport store from './redux/redux-store';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>, document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n","import { stopSubmit } from 'redux-form'\r\n\r\nimport { authAPI } from '../api/api';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA'\r\n\r\nlet initialState = {\r\n  id: null,\r\n  login: null,\r\n  email: null,\r\n  isFetching: false,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {\r\n    id,\r\n    email,\r\n    login,\r\n    isAuth\r\n  }\r\n})\r\n\r\nexport const setUser = () => async (dispatch) => {\r\n  let data = await authAPI.isAuth()\r\n\r\n  if (data.resultCode === 0) {\r\n    const { id, login, email } = data.data\r\n    dispatch(setUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let data = await authAPI.login(email, password, rememberMe)\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(setUser())\r\n  } else {\r\n    let message = data.messages.length > 0 ?\r\n      data.messages[0] :\r\n      \"SOME ERROR\"\r\n\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let data = await authAPI.logout()\r\n  \r\n  if (data.resultCode === 0) {\r\n    dispatch(setUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.b767aab4.svg\";","import React from 'react';\r\nimport preloader from '../../../image/Spinner-1s-200px.svg';\r\n\r\nlet Preloader = () => {\r\n  return <div>\r\n    <img alt=\"Preloader\" src={preloader} />\r\n  </div>\r\n}\r\n\r\nexport default Preloader;","import { profileAPI } from '../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  postData: [\r\n    { id: 1, message: 'Hi, how are u?' },\r\n    { id: 2, message: 'Its my first post' },\r\n    { id: 3, message: 'How its work' },\r\n    { id: 4, message: 'Bla bla bla' }\r\n  ],\r\n  newText: '',\r\n  profile: null,\r\n  status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        newText: '',\r\n        postData: [...state.postData,\r\n        { id: 5, message: action.newPostText }]\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        postData: state.postData.filter(m => m.id !== action.postId)\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({\r\n  type: ADD_POST,\r\n  newPostText\r\n})\r\n\r\nexport const deletePost = (postId) => ({\r\n  type: DELETE_POST,\r\n  postId\r\n})\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE, profile\r\n})\r\n\r\nexport const setUserStatus = (status) => ({\r\n  type: SET_STATUS, status\r\n})\r\n\r\nexport const userProfile = (userId) => async (dispatch) => {\r\n  let res = await profileAPI.getUserProfile(userId)\r\n  dispatch(setUserProfile(res.data))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let res = await profileAPI.getStatus(userId)\r\n  dispatch(setUserStatus(res.data))\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n  let res = await profileAPI.updateStatus(status)\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(setUserStatus(status))\r\n  }\r\n}\r\n\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Andrey' },\r\n        { id: 2, name: 'Vova' },\r\n        { id: 3, name: 'Sveta' },\r\n        { id: 4, name: 'Bob' }\r\n    ],\r\n    messageData: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Bye' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'What`s up' }\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n\r\n            let message = action.newMessageBody\r\n\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData,\r\n                { id: 5, message }]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({\r\n    type: SEND_MESSAGE,\r\n    newMessageBody\r\n})\r\n\r\nexport default dialogsReducer;","export const updateObjectInArrey = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}","import { usersAPI } from '../api/api';\r\n\r\nimport { updateObjectInArrey } from '../utils/reducers-helper';\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrey(state.users, action.userId, 'id', { followed: true })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrey(state.users, action.userId, 'id', { followed: false })\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: [...action.users] }\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalCount: action.totalCount }\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching ?\r\n          [...state.followingInProgress, action.userId] :\r\n          state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSucces = (userId) => ({ type: FOLLOW, userId })\r\nexport const unFollowSucces = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalCount) => ({ type: SET_TOTAL_USERS_COUNT, totalCount })\r\nexport const toggleIsFecthing = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFecthing(true))\r\n\r\n  let data = await usersAPI.getUsers(page, pageSize)\r\n  dispatch(toggleIsFecthing(false))\r\n  dispatch(setUsers(data.items))\r\n  dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnFollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingProgress(true, userId))\r\n  let data = await apiMethod\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n  let apiMethod = usersAPI.follow(userId)\r\n\r\n  followUnFollowFlow(dispatch, userId, apiMethod, followSucces)\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n  let apiMethod = usersAPI.unFollow(userId)\r\n\r\n  followUnFollowFlow(dispatch, userId, apiMethod, unFollowSucces)\r\n}\r\n\r\nexport default usersReducer;"],"sourceRoot":""}