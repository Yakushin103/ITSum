(this.webpackJsonpYakushin103=this.webpackJsonpYakushin103||[]).push([[7],{231:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(55);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done)&&(t.push(u.value),!e||t.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},288:function(n,e,t){},289:function(n,e,t){},293:function(n,e,t){"use strict";t.r(e);var r=t(50),o=t(51),i=t(53),u=t(52),s=t(0),c=t.n(s),l=t(20),a=t(29),f=t(231),p=(t(288),t(2)),h=function(n){for(var e=n.totalItemsCount,t=n.pageSize,r=n.onPageChanged,o=n.currentPage,i=n.portionSize,u=Math.ceil(e/t),c=[],l=1;l<=u;l++)c.push(l);var a=Math.ceil(u/i),h=Object(s.useState)(1),g=Object(f.a)(h,2),d=g[0],j=g[1],b=(d-1)*i+1,v=d*i;return Object(p.jsxs)("div",{className:"pagination",children:[d>1&&Object(p.jsx)("button",{onClick:function(){j(1)},children:"First"}),d>1&&Object(p.jsx)("button",{onClick:function(){j(d-1)},children:"Prev"}),c.filter((function(n){return n>=b&&v>=n})).map((function(n){return Object(p.jsx)("span",{onClick:function(){r(n)},className:n===o?"selected-Page":"",children:n},n)})),a>d&&Object(p.jsx)("button",{onClick:function(){j(d+1)},children:"Next"}),a>d&&Object(p.jsx)("button",{onClick:function(){j(a)},children:"Last"})]})},g=t(17),d=function(n){var e=n.user,t=n.followingInProgress,r=n.unFollow,o=n.follow;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(g.b,{to:"./profile/".concat(e.id),children:Object(p.jsx)("img",{alt:"Photo_user",className:"userPhoto",src:null!=e.photos.small?e.photos.small:"https://www.kino-teatr.ru/acter/album/325783/847606.jpg"})})}),Object(p.jsx)("div",{children:e.followed?Object(p.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"UnFollow"}):Object(p.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){o(e.id)},children:"Follow"})})]}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[Object(p.jsxs)("div",{children:[" ",e.name," "]}),Object(p.jsxs)("div",{children:[" ",e.status," "]})]}),Object(p.jsx)("span",{})]})]})},j=(t(289),function(n){var e=n.totalCount,t=n.pageSize,r=n.currentPage,o=n.users,i=n.onPageChanged,u=n.followingInProgress,s=n.unFollow,c=n.follow;return Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{totalItemsCount:e,pageSize:t,onPageChanged:i,currentPage:r,portionSize:10}),o.map((function(n){return Object(p.jsx)(d,{user:n,followingInProgress:u,unFollow:s,follow:c},n.id)}))]})}),b=t(39),v=t(77);function O(n,e){return n===e}function w(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}function P(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return e}var y=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=0,u=r.pop(),s=P(r),c=n.apply(void 0,[function(){return i++,u.apply(null,arguments)}].concat(t)),l=n((function(){for(var n=[],e=s.length,t=0;t<e;t++)n.push(s[t].apply(null,arguments));return c.apply(null,n)}));return l.resultFunc=u,l.dependencies=s,l.recomputations=function(){return i},l.resetRecomputations=function(){return i=0},l}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,t=null,r=null;return function(){return w(e,t,arguments)||(r=n.apply(null,arguments)),t=arguments,r}}));var x=function(n){return n.usersPage.pageSize},m=function(n){return n.usersPage.totalCount},C=function(n){return n.usersPage.currentPage},S=function(n){return n.usersPage.isFetching},k=function(n){return n.usersPage.followingInProgress},F=y((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return n}))})),z=function(n){Object(i.a)(t,n);var e=Object(u.a)(t);function t(){var n;Object(r.a)(this,t);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(n=e.call.apply(e,[this].concat(i))).onPageChanged=function(e){var t=n.props,r=t.setCurrentPage,o=t.requestUsers,i=t.pageSize;r(e),o(e,i)},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage,t=n.pageSize;this.props.requestUsers(e,t)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.props.isFetching?Object(p.jsx)(b.a,{}):Object(p.jsx)(j,{users:this.props.users,totalCount:this.props.totalCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,unFollow:this.props.unFollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})})}}]),t}(c.a.Component);e.default=Object(a.d)(Object(l.b)((function(n){return{users:F(n),pageSize:x(n),totalCount:m(n),currentPage:C(n),isFetching:S(n),followingInProgress:k(n)}}),{follow:v.b,unFollow:v.e,setCurrentPage:v.d,requestUsers:v.c}))(z)}}]);
//# sourceMappingURL=7.0fbb5ce1.chunk.js.map